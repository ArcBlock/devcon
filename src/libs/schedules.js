const zhSchedules = [
  {
    id: 'where-we-are-today-zh',
    name: 'ArcBlock 平台打造记',
    type: 'session',
    startTime: '2020-06-20T01:00:00.000Z',
    endTime: '2020-06-20T01:30:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  {
    id: 'the-feature-of-arcblock-abt-node-zh',
    name: 'DApps 开发新范式：ABT 节点',
    type: 'session',
    startTime: '2020-06-20T01:30:00.000Z',
    endTime: '2020-06-20T02:30:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  {
    id: 'abt-node-deployment-zh',
    name: 'ABT 节点部署',
    type: 'session',
    startTime: '2020-06-20T02:30:00.000Z',
    endTime: '2020-06-20T03:30:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  {
    id: 'abt-node-and-cloud-computing-zh',
    name: 'ABT 节点与云计算',
    type: 'session',
    startTime: '2020-06-20T03:30:00.000Z',
    endTime: '2020-06-20T04:15:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  {
    id: 'blocklets-zh',
    name: 'Blocklet：构建去中心化应用的基石',
    type: 'session',
    startTime: '2020-06-20T04:15:00.000Z',
    endTime: '2020-06-20T05:15:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  {
    id: 'abt-wallet-zh',
    name: 'ABT 钱包：通往去中心化世界的钥匙',
    type: 'session',
    startTime: '2020-06-20T05:15:00.000Z',
    endTime: '2020-06-20T06:15:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  {
    id: 'decentralize-identity-zh',
    name: '去中心化身份',
    type: 'session',
    startTime: '2020-06-20T06:15:00.000Z',
    endTime: '2020-06-20T07:15:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  {
    id: 'arcBlock-universal-browser-zh',
    name: 'ArcBlock 通用浏览器',
    type: 'session',
    startTime: '2020-06-20T07:15:00.000Z',
    endTime: '2020-06-20T08:15:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  {
    id: 'how-does-blockchain-work-zh',
    name: '区块链如何实战',
    type: 'session',
    startTime: '2020-06-20T08:15:00.000Z',
    endTime: '2020-06-20T09:00:00.000Z',
    dayOrder: 0,
    locale: 'zh',
  },
  // second day
  {
    id: 'blockchain-game-infinite-gravity-zh',
    name: '区块链游戏：无限引力',
    type: 'workshop',
    startTime: '2020-06-21T02:00:00.000Z',
    endTime: '2020-06-21T02:45:00.000Z',
    dayOrder: 1,
    locale: 'zh',
  },
  {
    id: 'blockchain-info-platform-mengyang-express-zh',
    name: '去中心化资讯平台：梦阳快讯',
    type: 'workshop',
    startTime: '2020-06-21T02:45:00.000Z',
    endTime: '2020-06-21T03:30:00.000Z',
    dayOrder: 1,
    locale: 'zh',
  },
  {
    id: 'blockchain-food-source-tea-chain-zh',
    name: '区块链食品溯源：茶链',
    type: 'workshop',
    startTime: '2020-06-21T03:30:00.000Z',
    endTime: '2020-06-21T04:15:00.000Z',
    dayOrder: 1,
    locale: 'zh',
  },
  {
    id: 'teach-class-abt-node-zh',
    name: '教学课堂：ABT 节点',
    type: 'workshop',
    startTime: '2020-06-21T04:15:00.000Z',
    endTime: '2020-06-21T06:15:00.000Z',
    dayOrder: 1,
    locale: 'zh',
  },
  {
    id: 'teach-class-decentralized-identity-zh',
    name: '教学课堂：去中心化身份',
    type: 'workshop',
    startTime: '2020-06-21T06:15:00.000Z',
    endTime: '2020-06-21T08:15:00.000Z',
    dayOrder: 1,
    locale: 'zh',
  },
  {
    id: 'teach-class-blockchain-zh',
    name: '教学课堂：用 Forge SDK 构建区块链游戏',
    type: 'workshop',
    startTime: '2020-06-21T08:15:00.000Z',
    endTime: '2020-06-21T10:15:00.000Z',
    dayOrder: 1,
    locale: 'zh',
  },
  {
    id: 'hackathon-start-zh',
    name: '黑客马拉松启动',
    type: 'workshop',
    startTime: '2020-06-21T10:15:00.000Z',
    endTime: '2020-06-21T10:35:00.000Z',
    dayOrder: 1,
    locale: 'zh',
  },
  // test schedule
  {
    id: 'test-schedule-zh',
    name: 'ArcBlock DevCon 测试 Session',
    type: 'session',
    startTime: '2020-06-18T01:00:00.000Z',
    endTime: '2020-06-20T01:30:00.000Z',
    dayOrder: 0,
    isTest: true,
    locale: 'zh',
  },
];

const enSchedules = [
  {
    id: 'where-we-are-today-en',
    name: 'ArcBlock: where we are today',
    type: 'session',
    startTime: '2020-06-19T16:00:00.000Z',
    endTime: '2020-06-19T16:30:00.000Z',
    dayOrder: 0,
    pptDownloadLink: '',
    locale: 'en',
  },
  {
    id: 'the-feature-of-arcblock-abt-node-en',
    name: 'The Next DApp Platform: ABT Node',
    type: 'session',
    startTime: '2020-06-19T16:30:00.000Z',
    endTime: '2020-06-19T17:30:00.000Z',
    dayOrder: 0,
    locale: 'en',
  },
  {
    id: 'abt-node-and-the-cloud-en',
    name: 'ABT Node and the Power of Cloud Computing',
    type: 'session',
    startTime: '2020-06-19T17:30:00.000Z',
    endTime: '2020-06-19T18:15:00.000Z',
    dayOrder: 0,
    locale: 'en',
  },
  {
    id: 'blocklets-en',
    name: 'Building Blocks for Modern Blockchain Software',
    type: 'session',
    startTime: '2020-06-19T18:15:00.000Z',
    endTime: '2020-06-19T19:15:00.000Z',
    dayOrder: 0,
    locale: 'en',
  },
  {
    id: 'abt-wallet-en',
    name: 'ABT Wallet: Keys to the Decentralized Web',
    type: 'session',
    startTime: '2020-06-19T19:15:00.000Z',
    endTime: '2020-06-19T20:15:00.000Z',
    dayOrder: 0,
    locale: 'en',
  },
  {
    id: 'decentralize-identity-en',
    name: 'Decentralized Identity',
    type: 'session',
    startTime: '2020-06-19T20:15:00.000Z',
    endTime: '2020-06-19T21:15:00.000Z',
    dayOrder: 0,
    locale: 'en',
  },
  {
    id: 'did-connect-en',
    name: 'DID:CONNECT',
    type: 'session',
    startTime: '2020-06-19T21:15:00.000Z',
    endTime: '2020-06-19T22:15:00.000Z',
    dayOrder: 0,
    locale: 'en',
  },
  {
    id: 'developer-ecosystem-for-dapps-en',
    name: 'Developer Ecosystem for DApps',
    type: 'session',
    startTime: '2020-06-19T22:15:00.000Z',
    endTime: '2020-06-19T23:15:00.000Z',
    dayOrder: 0,
    locale: 'en',
  },
  {
    id: 'government-and-blockchain-en',
    name: 'PANEL: Government and Blockchain',
    type: 'session',
    startTime: '2020-06-19T23:15:00.000Z',
    endTime: '2020-06-20T00:15:00.000Z',
    dayOrder: 0,
    locale: 'en',
  },
  // second day
  {
    id: 'workshop-abt-node-en',
    name: 'Hands on ABT Node and Blocklets',
    type: 'workshop',
    startTime: '2020-06-20T17:00:00.000Z',
    endTime: '2020-06-20T19:00:00.000Z',
    dayOrder: 1,
    locale: 'en',
  },
  {
    id: 'running-aws-qldb-with-abt-node-en',
    name: 'Using Amazon QLDB in ArcBlock ABT Node',
    type: 'workshop',
    startTime: '2020-06-20T19:00:00.000Z',
    endTime: '2020-06-20T20:00:00.000Z',
    dayOrder: 1,
    locale: 'en',
  },
  {
    id: 'deploy-abt-node-on-open-stack-en',
    name: 'Deploy ABT Node on OpenStack',
    type: 'workshop',
    startTime: '2020-06-20T20:00:00.000Z',
    endTime: '2020-06-20T21:00:00.000Z',
    dayOrder: 1,
    locale: 'en',
  },
  {
    id: 'workshop-decentralized-identity-en',
    name: 'Decentralized Identity',
    type: 'workshop',
    startTime: '2020-06-20T21:00:00.000Z',
    endTime: '2020-06-20T23:00:00.000Z',
    dayOrder: 1,
    locale: 'en',
  },
  {
    id: 'workshop-blockchain-en',
    name: 'Building Blockchain Game with Forge SDK',
    type: 'workshop',
    startTime: '2020-06-20T23:00:00.000Z',
    endTime: '2020-06-21T01:00:00.000Z',
    dayOrder: 1,
    locale: 'en',
  },
  {
    id: 'hackathon-kick-off-en',
    name: 'Hackathon Kick-off',
    type: 'workshop',
    startTime: '2020-06-21T01:00:00.000Z',
    endTime: '2020-06-21T01:20:00.000Z',
    dayOrder: 1,
    locale: 'en',
  },
  // test schedule
  {
    id: 'test-schedule-en',
    name: 'ArcBlock DevCon Test Session',
    type: 'session',
    startTime: '2020-06-18T01:00:00.000Z',
    endTime: '2020-06-19T01:30:00.000Z',
    dayOrder: 0,
    isTest: true,
    locale: 'en',
  },
];

function getSchedulesByLocale(locale) {
  if (locale === 'zh') {
    return zhSchedules;
  }
  return enSchedules;
}

function getAllSchedules() {
  return zhSchedules.concat(enSchedules);
}

const csdnStreamLink = 'https://live.csdn.net/room/ArcBlock/yeh1BsfD';
const douYuStreamLink = 'https://www.douyu.com/arcblock';
const youTubeStreamLink = 'https://www.youtube.com/c/ArcBlock_io';

function getAllStreamLinks() {
  return [
    {
      platform: 'CSDN',
      link: csdnStreamLink,
    },
    {
      platform: '斗鱼',
      link: douYuStreamLink,
    },
    {
      platform: 'YouTube',
      link: youTubeStreamLink,
    },
  ];
}

function checkIsGetBadgePassed(topId) {
  let isGetTimePassed = true;
  if (!topId) {
    return isGetTimePassed;
  }
  const filterResult = getAllSchedules().filter(item => item.id === topId);
  if (filterResult && filterResult.length > 0) {
    const topic = filterResult[0];
    const now = new Date().getTime();
    if (topic) {
      if (topic.dayOrder === 0) {
        // first day
        if (topic.locale === 'zh') {
          isGetTimePassed = now > new Date('2020-06-20T16:00:00.000Z').getTime();
        } else {
          isGetTimePassed = now > new Date('2020-06-20T07:00:00.000Z').getTime();
        }
      } else if (topic.dayOrder === 1) {
        // second day
        if (topic.locale === 'zh') {
          isGetTimePassed = now > new Date('2020-06-21T16:00:00.000Z').getTime();
        } else {
          isGetTimePassed = now > new Date('2020-06-21T07:00:00.000Z').getTime();
        }
      }
    }
  }
  return isGetTimePassed;
}

module.exports = {
  getSchedulesByLocale,
  checkIsGetBadgePassed,
  getAllStreamLinks,
};
